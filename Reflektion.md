# KodKvalitet

## Kapitel 2: Namngivning
| Namn | Förklaring | Regler från Clean Code | Reflektion |
|------|------------|-------------------------------------|----------|
| `DiagramFactory` | Klassnamnet i den publika interfacet. | **Class Names**: Betyder att vi ska använda oss utav Substantiv när vi skapar klass namn. **Avoid Mental Mapping**: Betyder att användaren måste översätta variabel namnet till vad det faktiskt betyder. (Clarity is king!) | Namn på klasser bör tydligt återspegla vad klassen är eller vad den representerar eller snarare vad klassens uppgift är. Jag gillar ordet clarity is king! för att det beskriver väligt mycket. Desto mer vi förklarar desto mer förstår alla inblandade i koden. Här visar vi att vi har en fabrik som skapar diagram.|
| `createBarDiagram` | En publik metod vars uppgift är att rendera ett stapeldiagram i DOM. | **Use Intetion-Revealing Names**: Betyder att vi ska använda bra ord som förklarar sig själva. **Avoid Disinformation**: Betyder att programmerare inte ska använda namn som kan förvirra eller skapa missuppfattning. | createBarDiagram är ett bra namn på en metod vars uppgift är att skapa stapelDiagram- Namnet beskriver att ett stapeldiagram skapas. Däremot står det inte förklarat att den placeras i DOM, vilket jag tycker är lite negativt. Eftersom det kan leda till förvirring då det inte direkt står att det läggs till i DOM. |
| `createLineDiagram` | En publik metod vars uppgift är att rendera ett linjediagram i DOM. | **Method Names**: Vilket betyder att vi ska använda verb eller verbfraser på våra metoder för att beskriva dem. | Här använder jag en verbfras då jag tycker att det beskriver mycket bra vad denna metod ska göra. Create vilket jag menar med att någonting skapas. Och vad som skapas är ett LineDiagram. |
| `createCircleDiagram` | En publik metod vars uppgift är att rendera ett cirlcediagram i DOM. | **Make Meaningful Distinctions**: Betyder att vi inte ska använda liknande namn på flera variabler eller metoder. Ex data1 och data2. | Här liknar mina namn på metoderna varandra rätt mycket men det beskriver vilket diagram som ska skapas och renderas. Jag hade kunnat använda dåliga namn så som createDiagram() och createDiagram2(). De namnen skapar en stor förvirring då användarna inte vet vilket metod som gör vad. Namnen som jag valt passar mycket bättre. |
| `#config` | Ett privat fält som håller den configurationen som varje diagram ska använda sig utav. | **Use Intention-Revealing Names**: Betyder att vi ska använda bra ord som förklarar sig själva. | Här menar jag alla inställningar samt datan som ska visas finns i detta fält. Det har ett bra namn som beskriver vad sm finns i fältet. Det är samma namn på denna variabel överallt i koden, vilket gör det enklare att förstå då det ej har 2 meningar. |

### Reflektion Kap.2
Jag tycker det mesta i boken är intressant och nyttigt att använda. Jag gillar att vi ska använda namn som förklarar sig själva det skapar mindre förvirring och ökar därför kodförståelsen. Jag tycker att jag har varit bra innan på att använda bra namn på variabler och metoder. Det bler inte så stor skillnad för mig då jag redan använder mig utav bra namn. Mitt favourit uttryck i kapitel 1 är 'clarity is king!'. Det beskriver väldigt mycket om hur jag tänker när jag skriver kod. Jag vill skriva så enkel kod som möjligt och försöka minska komplexiteten. Använder jag mig utav bra namn på variabler och metoder så bidrar det att koden blir enklare att förstå. Någonting som jag inte använt mig utav tidigare men försöker göra nu är att ersätta magiska numner. Det blir mycket enklare om jag istället skapar ett variabel som beskriver vad numret står för. Det bidrar också till Clarity is king! då det blir enklare att förstå vad numret står för.

## Kapitel 3: Funktioner
| Namn | Länk | Antal Rader | Regler från Clean Code | Reflektion |
|------|------------|------|-------------------------------------|----------|
| `render` (HorizontalBarDiagram)| [Kod](https://github.com/Witten2002/1dv610-Labboration-2/blob/main/src/lib/DiagramFactory/src/HorizontalBarDiagram.js) Rad 30 - 79 | 39 | **Small**: Betyder att funktionerna ska vara små, så små som möjligt. | Egentligen är inte denna metoden så stor. ca 40 rader. Man kan göra metoden kortare genom att skapa fler mindre privata metoder som gör en specifik uppgift. Detta skulle göra koden mer lättläst och förståelig. |
| `render` (LineDiagram) | [Kod](https://github.com/Witten2002/1dv610-Labboration-2/blob/main/src/lib/DiagramFactory/src/LineDiagram.js) Rad 31 - 91 | 60 | **Do One Thing**: Betyder att metoden endast ska göra en sak. | Tycker jag låter klokt. Här kan jag argumentera att metoden gör en sak men även fler saker. Jag kan argumentera för att den ritar upp ock skapar elementet. Samtidigt som jag kan argumentera för att metoden faktiskt räknar ut positionen för varje punk, ritar en linje, skapar en text och en cirkel vild vid varje värde. Egentligen ska jag bygga om alla render metoder och dela upp dem i flera mindre privata metoder. Vilket ökar läsbarheten och förståelsen. |
| `render` (CircleDiagram) | [Kod](https://github.com/Witten2002/1dv610-Labboration-2/blob/main/src/lib/DiagramFactory/src/CircleDiagram.js) Rad 34 - 90 | 56 | **Use Descriptive Names**: Betyder att vi ska använda bra namn på metoder som är förklarande. **Function Arguments**: Helt vill vi skicka med 0 argument men absolut max 2. | Render berättar för oss att något skapas/renderas ut till vyn. En bit ner i koden har jag skapat ett objekt för att kunna skicka in fler argument till en metod. Jag gillar tanken och sättat att göra detta på. Dock ska man bygga metoderna efter detta sättet redan från början då det blir enklare. Jag tycker egentligen att det är logiskt att skicka med så få argument som möjligt då koden blir mer lätt läst. |
| `#showLabels` (CircleDiagram) | [Kod](https://github.com/Witten2002/1dv610-Labboration-2/blob/main/src/lib/DiagramFactory/src/CircleDiagram.js) Rad 97 - 140 | 43 | **Avoid Side Effects**: Betyder att vi inte vill ha sideo effekter då vi kollar om något är ok och sedan sätter ändrar staten i programmet. | I metod namnet berättar vi egentligen bara att vi ska visa labels och inte att vi skapar dem. Vi berättar inte heller att vi räknar ut rätt procent. Förslag på ändring här är att ändra metodnamnet och bryta ut vissa delar i metoderna till egna mindre privata metoder. |
| `createInfoBox` (Interactivity) | [Kod](https://github.com/Witten2002/1dv610-Labboration-2/blob/main/src/lib/DiagramFactory/src/Interactivity.js) Rad 105 - 169 | 64 | **Do One Thing**: Betyder att metoden endast ska göra en sak. | Detta är en bra metod. Den gör endast en sak eller 2 om vi ska dra det hårt. Metodens uppgift är att skapa en liren infobox med en label och ett value som visas för användarna när musen är över om den har configurerat denna inställning.  |

### Reflektion Kap.3
Det är mycket som jag tycker är intressant i detta kapitel. Att funktionerna ska vara små. Vi har hellre 5 mindre metoder med 10 rader kod i varje än en metod med 50 rader kod i. Detta för att öka abstaktions nivån och kodförståelsen. Samma sak gäller Do One Thing. Den är logiskt men jag tror den är svårare att applicera än vad jag tror. Då metoder ofta en en tendens att bli för stor och då göra för mycket saker. Jag håller delvis med om att vi ska skicka in så lite argument som möjligt i en metod. Jag kan tycka att är det verkligen värt att skapa ett objekt för att skicka in 2 argument? Däremot kanske för 3. Jag skulle nog vilja dra gränsen vid 3 argument det är då som det kan börja bli lite rörigt tycker jag. 2 argument tycker jag är helt okej att skicka in till en metod, är det fler försök då skapa ett objekt. Det som jag tycker är mest intressant från detta kapitel är Command Query Seperation. Antingen ska vi göra något eller ska vi svara på något. Vi ska inte göra båda. Detta är något som jag började tänka lite mer på efter föreläsningen. Egentligen handlar det om att jobba mer med (setters) och getters. Det är en intressant tanke och något som jag kommer att tänka på i framtiden.

## Reflektion 

Efter att ha läst kapitel 2 och 3 i Clean Code och deltagit i föreläsningarna har jag reflekterat över hur jag tidigare skrivit kod och vilka förbättringar jag nu ser potentialen för. Mycket av det jag har lärt mig bekräftar hur jag redan jobbar, men jag har också identifierat områden där jag kan utvecklas.

Namngivning – Intention-Revealing Names
En av de principer jag använt mest är Intention-Revealing Names. Jag har alltid försökt använda beskrivande namn för variabler, metoder och klasser, vilket gör koden lättare att förstå. Ett exempel på detta är min användning av fältet #visualData i flera klasser. Detta fält lagrar all data som ska visualiseras i diagrammet, såsom labels, värden och färger. Eftersom detta fält är väldigt specifikt och beskriver exakt vad det innehåller, följer det principen att namnet avslöjar sin avsikt tydligt.

Men efter att ha läst Clean Code inser jag att jag kan gå ännu längre. I vissa fall, som i metoden createBarDiagram, kunde jag ha varit mer specifik och inkluderat i namnet att diagrammet också renderas i DOM. Detta skulle minska risken för missförstånd och göra metoden ännu mer intention-revealing.

Magic Numbers – Undvik dem
Ett område där jag har gjort en konkret förändring är att undvika magic numbers. Tidigare använde jag ofta hårdkodade tal, som if (x === 5), men nu har jag börjat ersätta dessa med beskrivande konstanter, till exempel NUM_OF_WORK_DAYS. Detta har verkligen hjälpt mig att göra koden mer läsbar, och jag inser nu hur mycket enklare det är att underhålla koden när man inte behöver gå tillbaka och leta efter vad siffrorna står för.

Det finns fortfarande några "magiska nummer" kvar i min kod, särskilt när jag arbetar med layout och placering av element i diagrammet, till exempel pixelvärden för linjering. Jag inser nu att även dessa borde ersättas med variabler som förklarar vad numret representerar, även om jag ser det som en lägre prioritet än att ersätta magic numbers i affärslogik eller if-satser.

Command Query Separation – Nytt tänkesätt
Ett av de mest intressanta koncepten jag har lärt mig är Command Query Separation. Tidigare hade jag en tendens att kombinera funktioner som både ändrade systemets tillstånd och returnerade ett resultat. Ett exempel på detta är när jag både skapade ett diagram och returnerade det i samma metod. Nu har jag börjat skilja dessa två ansvarsområden åt. Jag har implementerat detta genom att använda metoder för att bara hämta information (queries), och separata metoder för att ändra tillstånd (commands), vilket minskar risken för oförutsedda bieffekter och gör koden mer förutsägbar.

Rent praktiskt har jag märkt att detta är särskilt användbart när jag hanterar diagramdata. Istället för att en metod både ska uppdatera data och returnera ett diagramobjekt, har jag nu separata metoder för dessa uppgifter, vilket gör koden enklare att följa och debugga.

Small Functions och Do One Thing
En av de största utmaningarna för mig har varit att följa principen om small functions och Do One Thing. Jag har ofta skrivit längre metoder som gör flera saker samtidigt, vilket jag nu inser kan göra koden svårare att läsa och förstå. Till exempel är mina render-metoder för diagram ofta för långa och gör både beräkningar och rendering av element. Jag kan både argumentera för och emot att mina render metoder är för stora och gör för mycket. Exempel på detta är där jag ritar upp linjer, cirklar och texter i samma metod. Där av kan jag argumentera för att metoden gör för mycket. Samtidigt som jag tycker att metoden gör en sak, den ritar upp diagrammet. Detta är något som jag tror kommer bli lite mer kämpigt med att jobba med i framtiden. Egentligen är det logiskt att dela upp metoden i flera mindre metoder som gör en specifik uppgift. Detta skulle göra koden mer lättläst och förståelig. Men jag tror ändå att detta är något som kommer bli lite svårare att jobba med i framtiden, men inte omöjligt.

Efter att ha reflekterat över detta planerar jag att dela upp dessa större metoder i mindre delar, där varje del har ett specifikt ansvar. Genom att använda privata metoder för beräkningar och specifika delar av rendering, kan jag förbättra läsbarheten och göra koden mer modulär. Det är något jag kommer att arbeta vidare med i mina framtida projekt.

Make Meaningful Distinctions
Något som jag haft lite problem med tidigare är Make Meaningful Distinctions. När jag utvecklade en app i somras, där användaren skulle gissa tre ord, använde jag namn som wordOne, wordTwo och wordThree för variablerna. Dessa namn är inte särskilt beskrivande, och jag borde ha döpt dem till något som bättre förklarade vad de representerade. Detta är något jag kommer att tänka mer på framöver för att öka kodförståelsen och minska risken för förvirring.

Function Arguments
Något jag inte håller med om helt är principen kring function arguments. Jag tycker att det är okej att skicka ett eller två argument till en metod. När det blir fler än två argument håller jag med om att det är bättre att skapa ett objekt och skicka med det istället. Jag har redan delvis implementerat detta i min kod, men det finns några metoder där jag fortfarande skickar fler än två argument. Det är något jag kommer att förbättra framöver.